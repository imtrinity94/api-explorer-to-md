# API Reference

Generated Documentation

## Connection

**Description:** Connection on a Database

### Methods

#### `createStatement`
Creates a Statement object for sending SQL statements to the database

**Returns:** `Object`

---

#### `prepareStatement`
Creates a PreparedStatement object for sending parameterized SQL statements to the database

**Parameters:**

| Name | Type | Description |
| :--- | :--- | :--- |
| `param0` | `string` |  |

**Returns:** `PreparedStatement`

---

#### `prepareCall`
Creates a CallableStatement object for calling database stored procedures

**Parameters:**

| Name | Type | Description |
| :--- | :--- | :--- |
| `param0` | `string` |  |

**Returns:** `PreparedStatement`

---

#### `close`
Releases this Connection object's database and JDBC resources

**Returns:** `Object`

---

## JDBCConnection

**Description:** JDBC Connection

### Methods

#### `getConnection`
Return a connection on a Database connection ((String)url,(String)username,(String)password)

**Parameters:**

| Name | Type | Description |
| :--- | :--- | :--- |
| `param0` | `string` |  |
| `param1` | `string` |  |
| `param2` | `string` |  |

**Returns:** `Connection`

---

## PreparedStatement

**Description:** An object that represents a precompiled SQL statement

### Methods

#### `execute`
Executes the SQL statement in this PreparedStatement object, which may be any kind of SQL statement. Some prepared statements return multiple results; the execute method handles these complex statements as well as the simpler form of statements handled by the methods executeQuery and executeUpdate. The execute method returns a boolean to indicate the form of the first result. You must call either the method getResultSet or getUpdateCount to retrieve the result; you must call getMoreResults to move to any subsequent result(s).

**Returns:** `boolean`

---

#### `executeQuery`
Executes the SQL query in this PreparedStatement object and returns the ResultSet object generated by the query.

**Returns:** `ResultSet`

---

#### `executeUpdate`
Executes the SQL statement in this PreparedStatement object, which must be an SQL INSERT, UPDATE or DELETE statement; or an SQL statement that returns nothing, such as a DDL statement.

**Returns:** `number`

---

#### `setString`
Sets the designated parameter to the given String value.

**Parameters:**

| Name | Type | Description |
| :--- | :--- | :--- |
| `parameterIndex` | `number` | the first parameter is 1, the second is 2, ... |
| `x` | `object` | the parameter value |

**Returns:** `Object`

---

#### `setDate`
Sets the designated parameter to the given Date value.

**Parameters:**

| Name | Type | Description |
| :--- | :--- | :--- |
| `parameterIndex` | `number` | the first parameter is 1, the second is 2, ... |
| `x` | `object` | the parameter value |

**Returns:** `Object`

---

#### `setTimestamp`
Sets the designated parameter to the given Timestamp value.

**Parameters:**

| Name | Type | Description |
| :--- | :--- | :--- |
| `parameterIndex` | `number` | the first parameter is 1, the second is 2, ... |
| `x` | `object` | the parameter value |

**Returns:** `Object`

---

## ResultSet

**Description:** Result of an executeQuery

### Methods

#### `next`
Moves the cursor down one row from its current position. A ResultSet cursor is initially positioned before the first row; the first call to the method next makes the first row the current row; the second call makes the second row the current row, and so on. Return true if the new current row is valid; false if there are no more rows

**Returns:** `boolean`

---

#### `previous`
Moves the cursor to the previous row in this ResultSet object. Returns true if the cursor is on a valid row; false if it is off the result set

**Returns:** `boolean`

---

#### `beforeFirst`
Moves the cursor to the front of this ResultSet object, just before the first row. This method has no effect if the result set contains no rows.

**Returns:** `Object`

---

#### `first`
Moves the cursor to the first row in this ResultSet object and returns true if the cursor is on a valid row; false if there are no rows in the result set

**Returns:** `boolean`

---

#### `last`
Moves the cursor to the last row in this ResultSet object and returns true if the cursor is on a valid row; false if there are no rows in the result set

**Returns:** `boolean`

---

#### `afterLast`
Moves the cursor to the end of this ResultSet object, just after the last row. This method has no effect if the result set contains no rows.

**Returns:** `Object`

---

#### `wasNull`
Reports whether the last column read had a value of SQL NULL

**Returns:** `boolean`

---

#### `getString`
Return the String value of the given column name

**Parameters:**

| Name | Type | Description |
| :--- | :--- | :--- |
| `columnName` | `string` | Column name |

**Returns:** `string`

---

#### `getStringAt`
Return the String value of the given column index

**Parameters:**

| Name | Type | Description |
| :--- | :--- | :--- |
| `columnIndex` | `number` | Column index |

**Returns:** `string`

---

#### `getNumber`
Return the Number value of the given column name

**Parameters:**

| Name | Type | Description |
| :--- | :--- | :--- |
| `columnName` | `string` | Column name |

**Returns:** `number`

---

#### `getNumberAt`
Return the Number value of the given column index

**Parameters:**

| Name | Type | Description |
| :--- | :--- | :--- |
| `columnIndex` | `number` | Column index |

**Returns:** `number`

---

#### `getDate`
Return the Date value of the given column name

**Parameters:**

| Name | Type | Description |
| :--- | :--- | :--- |
| `columnName` | `string` | Column name |

**Returns:** `Object`

---

#### `getDateAt`
Return the Date value of the given column index

**Parameters:**

| Name | Type | Description |
| :--- | :--- | :--- |
| `columnIndex` | `number` | Column index |

**Returns:** `Object`

---

#### `getTimestamp`
Return the Timestamp value of the given column name

**Parameters:**

| Name | Type | Description |
| :--- | :--- | :--- |
| `columnName` | `string` | Column name |

**Returns:** `Object`

---

#### `getTimestampAt`
Return the Timestamp value of the given column index

**Parameters:**

| Name | Type | Description |
| :--- | :--- | :--- |
| `columnIndex` | `number` | Column index |

**Returns:** `Object`

---

#### `getMetaData`
Return the meta data of this ResultSet

**Returns:** `ResultSetMetaData`

---

## ResultSetMetaData

**Description:** Meta data of ResultSet

### Methods

#### `getColumnCount`
Get the number of columns in this ResultSet

**Returns:** `number`

---

#### `getColumnName`
Get the name of the column at position index (starting with 1)

**Parameters:**

| Name | Type | Description |
| :--- | :--- | :--- |
| `index` | `number` | Column index |

**Returns:** `string`

---

#### `getTableName`
Gets the designated column's table name.

**Parameters:**

| Name | Type | Description |
| :--- | :--- | :--- |
| `index` | `number` | Column index |

**Returns:** `string`

---

## SQLActiveRecord

**Description:** Represents a table record.

### Methods

#### `getProperty`
Returns the value of the given property.

**Parameters:**

| Name | Type | Description |
| :--- | :--- | :--- |
| `property` | `String` | A database record column's name |

**Returns:** `Object`

---

#### `getFieldNames`
Returns record field names.

**Returns:** `Array/String`

---

## SQLColumn

**Description:** Represents a SQL Table Column.

### Attributes

| Name | Description | Type | Read-only |
| :--- | :--- | :--- | :--- |
| `name` | Column name | `String` | Yes |
| `table` | Column's table | `com.vmware.o11n.plugin.database.Table` | Yes |
| `typeName` | Type name | `String` | Yes |
| `typeId` | Type ID | `int` | Yes |
| `mandatory` | Is mandatory column | `boolean` | Yes |

## SQLDatabase

**Description:** Represents a SQL Database connection.

### Attributes

| Name | Description | Type | Read-only |
| :--- | :--- | :--- | :--- |
| `id` | Database ID | `String` | Yes |
| `name` | Database name | `String` | No |
| `type` | Database type | `String` | No |
| `connectionURL` | Database connection URL | `String` | No |
| `username` | User name | `String` | No |
| `password` | Password | `String` | No |
| `sessionMode` | User session mode | `String` | No |

### Methods

#### `getUnmappedTableNames`
Returns a list of tables, not added to this database.

**Returns:** `Array/String`

---

#### `getMappedTableNames`
Returns a list of tables, that are added to this database.

**Returns:** `Array/String`

---

#### `getAllTableNames`
Returns a list of all tables, that are in this database.

**Returns:** `Array/String`

---

#### `getTables`
Returns a list of tables in this database.

**Returns:** `Array/SQLTable`

---

#### `readCustomQuery`
Executes a read custom query on the database and returns the results in an ActiveRecord array

**Parameters:**

| Name | Type | Description |
| :--- | :--- | :--- |
| `customQuery` | `String` | The query to execute. |

**Returns:** `Array/SQLActiveRecord`

---

#### `executeCustomQuery`
Execute non-read custom query on the database

**Parameters:**

| Name | Type | Description |
| :--- | :--- | :--- |
| `customQuery` | `String` | The query to execute. |

**Returns:** `int`

---

## SQLDatabaseManager

**Description:** Provides CRUD operations for database objects.

### Methods

#### `addDatabase`
Adds a database object to the plug-in's inventory.

**Parameters:**

| Name | Type | Description |
| :--- | :--- | :--- |
| `item` | `SQLDatabase` | Database object to add |

**Returns:** `SQLDatabase`

---

#### `updateDatabase`
Updates the specified database in the plug-in's inventory.

**Parameters:**

| Name | Type | Description |
| :--- | :--- | :--- |
| `item` | `SQLDatabase` | Database object with the updated data |

**Returns:** `SQLDatabase`

---

#### `removeDatabase`
Removes a database object from the plug-in's inventory.

**Parameters:**

| Name | Type | Description |
| :--- | :--- | :--- |
| `item` | `SQLDatabase` | Name of the Database object to remove |

**Returns:** `SQLDatabase`

---

#### `getDatabases`
Returns the list of database objects in the plug-in's inventory.

**Returns:** `Array/SQLDatabase`

---

#### `getDatabaseById`
Returns the database object from the plug-in's inventory with a specified ID.

**Parameters:**

| Name | Type | Description |
| :--- | :--- | :--- |
| `id` | `String` | ID of the database object to get |

**Returns:** `SQLDatabase`

---

#### `validateDatabase`
Validates the created database object if it is able to connect to the real database.

**Parameters:**

| Name | Type | Description |
| :--- | :--- | :--- |
| `database` | `SQLDatabase` | The database object to validate |

**Returns:** `Object`

---

#### `getSupportedDatabaseTypes`
Returns a list of supported database types.

**Returns:** `Array/String`

---

#### `addTablesToDatabase`
Adds new tables to a database.

**Parameters:**

| Name | Type | Description |
| :--- | :--- | :--- |
| `database` | `SQLDatabase` | The database object, to which a table is added. |
| `tableNames` | `Array/String` | The names of the tables, which are added. |

**Returns:** `Array/SQLTable`

---

#### `removeTableFromDatabase`
Removes a specified table from a database.

**Parameters:**

| Name | Type | Description |
| :--- | :--- | :--- |
| `table` | `SQLTable` | The table, which is removed. |

**Returns:** `SQLTable`

---

#### `generateCreateWorkflow`
Generates a workflow for creation of database record.

**Parameters:**

| Name | Type | Description |
| :--- | :--- | :--- |
| `table` | `SQLTable` | Table, for which a workflow is generated |
| `category` | `ch.dunes.model.workflow.WorkflowCategory` | Where to put the generated workflow |
| `overwriteWorkflow` | `Boolean` | Should the generator overwrite any existing workflows |
| `readOnlyColumns` | `Array/SQLColumn` | List of read-only columns |

**Returns:** `ch.dunes.model.workflow.Workflow`

---

#### `generateReadWorkflow`
Generates a workflow that reads table records.

**Parameters:**

| Name | Type | Description |
| :--- | :--- | :--- |
| `table` | `SQLTable` | Table, for which a workflow is generated |
| `category` | `ch.dunes.model.workflow.WorkflowCategory` | Where to put the generated workflow |
| `overwriteWorkflow` | `Boolean` | Should the generator overwrite any existing workflows |

**Returns:** `ch.dunes.model.workflow.Workflow`

---

#### `generateDeleteWorkflow`
Generates a workflow that deletes table records.

**Parameters:**

| Name | Type | Description |
| :--- | :--- | :--- |
| `table` | `SQLTable` | Table, for which a workflow is generated |
| `category` | `ch.dunes.model.workflow.WorkflowCategory` | Where to put the generated workflow |
| `overwriteWorkflow` | `Boolean` | Should the generator overwrite any existing workflows |

**Returns:** `ch.dunes.model.workflow.Workflow`

---

#### `generateUpdateWorkflow`
Generates a workflow that updates a table record.

**Parameters:**

| Name | Type | Description |
| :--- | :--- | :--- |
| `table` | `SQLTable` | Table, for which a workflow is generated |
| `category` | `ch.dunes.model.workflow.WorkflowCategory` | Where to put the generated workflow |
| `overwriteWorkflow` | `Boolean` | Should the generator overwrite any existing workflows |
| `readOnlyColumns` | `Array/SQLColumn` | List of read-only columns |

**Returns:** `ch.dunes.model.workflow.Workflow`

---

#### `convertBooleanForPresentation`
Converts boolean values to 'Yes' or 'No' strings.

**Parameters:**

| Name | Type | Description |
| :--- | :--- | :--- |
| `source` | `String` | A boolean value - true, false, 1, 0 |

**Returns:** `String`

---

#### `getConnectionUrl`
Returns connection URL pattern for a particular database type.

**Parameters:**

| Name | Type | Description |
| :--- | :--- | :--- |
| `existing` | `String` | The current URL |
| `type` | `String` | Database type |

**Returns:** `String`

---

#### `isValidNumberOrEmpty`
Returns 'true' if the passed object is a valid number or null. Otherwise, returns 'false'.

**Parameters:**

| Name | Type | Description |
| :--- | :--- | :--- |
| `source` | `Object` | An object to be checked. |

**Returns:** `Boolean`

---

## SQLTable

**Description:** Represents a database table.

### Attributes

| Name | Description | Type | Read-only |
| :--- | :--- | :--- | :--- |
| `name` | Table name | `String` | Yes |
| `database` | A database which the table belongs to | `com.vmware.o11n.plugin.database.Database` | Yes |

### Methods

#### `createRecord`
Creates a new active record with primary fields.

**Parameters:**

| Name | Type | Description |
| :--- | :--- | :--- |
| `keyColumns` | `Object` | The fields that should be populated |
| `validateUnique` | `Boolean` | Defines whether a unique record is expected. |

**Returns:** `SQLActiveRecord`

---

#### `readRecords`
Reads records by certain search criteria.

**Parameters:**

| Name | Type | Description |
| :--- | :--- | :--- |
| `columns` | `Object` | A map of columns that will compose the search criteria. |
| `validateUnique` | `Boolean` | Defines whether a unique result is expected. |

**Returns:** `Array/SQLActiveRecord`

---

#### `findUniqueRecord`
Finds a record by certain search criteria.

**Parameters:**

| Name | Type | Description |
| :--- | :--- | :--- |
| `example` | `Array/Object` | The search values |

**Returns:** `SQLActiveRecord`

---

#### `updateRecord`
Updates the record that matches the primary key fields.

**Parameters:**

| Name | Type | Description |
| :--- | :--- | :--- |
| `record` | `SQLActiveRecord` | A table record |
| `values` | `Object` | A list of column='new value' pairs |

**Returns:** `Integer`

---

#### `deleteRecords`
Deletes a record by certain search criteria.

**Parameters:**

| Name | Type | Description |
| :--- | :--- | :--- |
| `columns` | `Object` | The columns to be used for the search |
| `validateUnique` | `Boolean` | Defines if a unique record is expected. |

**Returns:** `Integer`

---

#### `getColumns`
Get all table columns.

**Returns:** `Array/String`

---

